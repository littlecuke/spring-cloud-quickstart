## Elasticsearch 安装

### 1.部署单点es

#### 1.1 创建网络

因为后面还需要部署Kibana容器，所以需要让es和Kibana容器互联

```bash
docker network create es-net
```

#### 1.2 拉取镜像

- elasticsearch
```bash
docker pull elasticsearch:7.12.1
```

- kibana

```bash
docker pull kibana:7.12.1
```

#### 1.3 运行

```bash
docker run \
  --name es \
  --network es-net \
  -p 9200:9200 \
  -p 9300:9300 \
  -v es-data:/usr/share/elasticsearch/data \
  -v es-plugins:/usr/share/elasticsearch/plugins \
  -e "discovery.type=single-node" \
  -d \
  elasticsearch:7.12.1
```

在浏览器中输入：http://localhost:9200/，即可查看到es的响应结果，localhost对应服务器的ip

### 2.部署kibana

```bash
docker run \
  --name kibana \
  --network=es-net \
  -p 5601:5601 \
  -e ELASTICSEARCH_HOSTS=http://es:9200 \
  -d \
  kibana:7.12.1
```

在浏览器中输入：http://localhost:5601/，对kibana进行查看